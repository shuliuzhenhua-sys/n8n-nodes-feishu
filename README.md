# @shuliuzhenhua/n8n-nodes-feishu

飞书 n8n 社区节点，提供飞书开放平台 API 的集成支持。

> 本项目是基于 [n8n-nodes-feishu-lite](https://github.com/other-blowsnow/n8n-nodes-feishu-lite) 之上进行的二次开发，感谢原作者的开源贡献！
>   "name": "@luka-cat-mimi/n8n-nodes-feishu",在此基础上添加修改 添加从云空间下载文件功能

## 安装

参考：https://docs.n8n.io/integrations/community-nodes/installation/

节点名称：`@shuliuzhenhua/n8n-nodes-feishu`


## 功能列表

### 知识库 (13)
- 获取知识空间列表
- 获取知识空间信息
- 更新知识空间设置
- 添加知识空间成员
- 删除知识空间成员
- 获取知识空间成员列表
- 创建知识空间节点
- **创建动态层级的知识库空间节点 (自定义封装)** ✨ 新增
- 创建知识空间节点副本
- 获取知识空间节点信息
- 获取知识空间子节点列表 ✨支持递归获取子节点
- 移动知识空间节点
- 更新知识空间节点标题

### 群组管理 (9)
- 获取群信息
- 获取用户或机器人所在的群列表
- 搜索对用户或机器人可见的群列表
- 获取群成员列表
- 将用户或机器人拉入群聊
- 移出群成员
- 判断用户或机器人是否在群里
- 指定群管理员
- 删除群管理员

### 通讯录 (3)
- 获取用户信息
- 批量获取用户信息
- 通过手机号或邮箱获取用户 ID

### 任务 (6)
- 创建任务
- 获取任务详情
- 更新任务
- 删除任务
- 添加任务成员
- 移除任务成员

### 云文档 (11)
- 创建文档
- 获取文档基本信息
- 获取文档纯文本内容
- 获取云文档内容
- 获取文档所有块
- 获取块的内容
- 创建块
- 创建嵌套块
- 更新块的内容
- 删除块
- Markdown/HTML 内容转换为文档块


### 多维表格 (28)
- 解析多维表格地址
- 创建多维表格
- 复制多维表格
- 获取多维表格元数据
- 更新多维表格元数据
- 导出多维表格
- 列出数据表
- 新增数据表
- 更新数据表
- 删除数据表
- 列出视图
- 获取视图
- 新增视图
- 更新视图
- 删除视图
- 查询记录
- 查询记录-通过记录ID
- 新增记录
- 更新记录
- 删除记录
- 批量新增记录
- 批量更新记录
- 批量删除记录
- 列出字段
- 新增字段
- 更新字段
- 删除字段
- 批量保存字段

### 消息 (19)
- 发送消息
- 回复消息
- 编辑消息
- 转发消息
- 撤回消息
- 批量发送消息
- 批量撤回消息
- 查询批量消息整体进度
- 查询批量消息推送和阅读人数
- 更新已发送的消息卡片
- 延时更新消息卡片
- 发送仅特定人可见的消息卡片
- 删除仅特定人可见的消息卡片
- 发送应用内加急
- 上传图片
- 下载图片
- 上传文件
- 下载文件
- 解密事件消息

### 日历 (16)
- 搜索日历
- 查询日历信息
- 查询主日历信息
- 创建共享日历
- 删除共享日历
- 获取日程列表
- 获取日程
- 搜索日程
- 创建日程
- 更新日程
- 删除日程
- 获取日程参与人列表
- 添加日程参与人
- 删除日程参与人
- 创建会议群
- 解绑会议群

### Aily (5)
- 读取文件基础信息
- 文件上传
- 调用技能
- 查询技能列表
- 获取技能信息

### 云空间 (7)
- 上传素材
- 上传素材通过Url
- 订阅云文档事件
- 取消云文档事件订阅
- 导出云文档（自动轮询任务状态并下载文件）
- 上传文件（支持二进制文件上传到云空间文件夹）
- 分片上传文件（三合一接口，支持大文件分片上传，5 并发加速）✨ 新增

## ✨ 特别之处

### 🔄 Return All 自动分页

以下接口支持 **Return All** 功能，自动处理分页获取全部数据：

| 模块 | 接口名称 |
|------|----------|
| 知识库 | 获取知识空间列表 |
| 知识库 | 获取知识空间成员列表 |
| 知识库 | 获取知识空间子节点列表（支持递归获取所有子节点） |
| Aily | 查询技能列表 |
| 群组管理 | 获取用户或机器人所在的群列表 |
| 群组管理 | 搜索对用户或机器人可见的群列表 |
| 群组管理 | 获取群成员列表 |
| 多维表格 | 查询记录 ✨ 新增 |

### ⏱️ 超时与批次管理

大部分接口支持以下高级选项：

- **Timeout（超时时间）**：设置请求超时时间（毫秒），避免请求长时间挂起
- **Batching（批次管理）**：
  - **Items per Batch**：每批处理的数量，用于控制请求频率
  - **Batch Interval (ms)**：每批请求之间的等待时间，避免触发 API 限流

这些功能可在接口的 `Options` 选项中配置，有效应对飞书 API 的频率限制。

## 凭证类型

- **应用级别凭证** - 使用 App ID 和 App Secret 进行认证
- **用户级别凭证** - 使用 OAuth 2.0 进行用户授权认证

## 注意事项

1. 使用应用凭证访问文档时，需要在文档中将应用添加为协作者
2. 错误码查询：https://open.feishu.cn/search


## 📝 许可证

MIT License

## 🆘 支持

- 📧 邮箱：luka.cat.mimi@gmail.com
- 🐛 [问题反馈](https://github.com/luka-n8n-nodes/n8n-nodes-volcengine/issues)
